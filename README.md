# ðŸŒ¸ FreeRTOSå­¦ä¹ æ—¥å¿— 

âœ¨ *"å‘~ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡åœ°å†™ä»£ç å“¦ï¼"* âœ¨

---

## ðŸš€ ä»Šæ—¥è¿›å±•
æˆåŠŸåœ¨STM32ä¸Šå®Œæˆï¼š
- ðŸ§µ **FreeRTOSç§»æ¤**ï¼ˆçŽ°åœ¨å¯ä»¥æ„‰å¿«åœ°å¤šçº¿ç¨‹å•¦~ï¼‰
- ðŸŽ® **ä»»åŠ¡åˆ›å»º**  
  - åŠ¨æ€åˆ›å»º `xTaskCreate()` (*åƒæ³¡æ³¡ä¸€æ ·éšæ—¶å‡ºçŽ°*)  
  - é™æ€åˆ›å»º `xTaskCreateStatic()` (*åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ç¨³å›º*)
- â¸ï¸ **ä»»åŠ¡ç®¡ç†**  
  - ç”¨`vTaskSuspend()`è®©ä»»åŠ¡ä¹–ä¹–ç¡è§‰  
  - ç”¨`vTaskResume()`å”¤é†’è£…ç¡çš„ä»»åŠ¡ä»¬~   

>"ä»£ç å†ä¸æ‰“å®Œçš„è¯...å°±...å°±å“­ç»™ä½ çœ‹å“¦ï¼(à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘)âœ§"
>â€”â€” åœ¨èƒŒåŽå‚¬ä¿ƒçš„VS Codeå§¬

2025å¹´3æœˆ22æ—¥

---
## ðŸŒ¸ FreeRTOSç ”ä¿®æ—¥è®°2

âœ¨ *"ä»Šå¤©çš„ä»£ç ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡åœ°è¿è¡Œå“¦~ (à¹‘>á´—<à¹‘)âœ§"* âœ¨

---

### ðŸš€ ä»Šæ—¥æŠ€èƒ½è§£é”
### â³ **æ—¶é—´ç‰‡è½®è¯¢è°ƒåº¦**
- å­¦ä¼šäº†ç”¨`configUSE_TIME_SLICING = 1`å¼€å¯ç”œèœœåˆ†æ—¶ï½ž  
- ç»™ä»»åŠ¡ä»¬å¹³å‡åˆ†é…ðŸ°æ—¶é—´ç‰‡ï¼ˆé»˜è®¤åŒä¼˜å…ˆçº§è‡ªåŠ¨è½®è½¬ï¼‰
```c
// åƒåˆ†è›‹ç³•ä¸€æ ·é…ç½®ä»»åŠ¡ä¼˜å…ˆçº§
xTaskCreate(task1, "T1", 128, NULL, 2, NULL);  // ðŸŽ‚ä¼˜å…ˆçº§2
xTaskCreate(task2, "T2", 128, NULL, 2, NULL);  // ðŸ§åŒä¼˜å…ˆçº§è‡ªåŠ¨è½®æ¢
```
### ðŸ“Š ä»»åŠ¡çŠ¶æ€ä¾¦æŸ¥æœ¯
- å¬å”¤uxTaskGetSystemState()èŽ·å–å…¨å‘˜çŠ¶æ€å¿«ç…§
- ä½¿ç”¨vTaskList()ç”ŸæˆASCIIè‰ºæœ¯æŠ¥è¡¨   

### ðŸ¾ è¸©åˆ°BUGå°å¼º
```c
// (â•¯â€µâ–¡â€²)â•¯ å½“å¿˜è®°ç»™vTaskListåˆ†é…è¶³å¤Ÿå†…å­˜æ—¶...
char bugReport[10]; // å¤ªå°å•¦ï¼
vTaskList(bugReport);  // ðŸ’¥ å†…å­˜æº¢å‡ºâ†’ç³»ç»Ÿæ‰‘è¡—ï¼
```   
### è§£å†³ä¹‹é“ï¼š
- 1ï¸âƒ£ å…ˆç”¨uxTaskGetNumberOfTasks()æ£€æµ‹ä»»åŠ¡æ•°é‡
- 2ï¸âƒ£ åŠ¨æ€åˆ†é…ç¼“å†²åŒºï¼šchar *buf = pvPortMalloc(éœ€è¦çš„é•¿åº¦);   
   

   
2025å¹´3æœˆ23æ—¥   

--- 